<div class="flex px-10 py-2">
  <div class="w-3/12">
    <h6 style="font-weight: 400; font-size: 1.5rem">Filters</h6>
    <mat-form-field appearance="fill">
      <mat-label>Categories</mat-label>

      <mat-select
        [(ngModel)]="selectedCategoryIds"
        (selectionChange)="onCategoryChange()"
        multiple
        name="categories"
      >
        <mat-select-trigger>
          {{ displayCategoryName }}
        </mat-select-trigger>

        <mat-option
          *ngFor="let category of categoryList; trackBy: trackByCategoryId"
          [value]="category._id"
        >
          {{ category.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>BranchId</mat-label>
      <mat-select
        [(ngModel)]="branchIds"
        (selectionChange)="getProductList()"
        name="branchId"
      >
        <mat-option *ngFor="let brand of brandsList" [value]="brand._id">
          {{ brand.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="flex-1">
    <div class="flex justify-between">
      <h6 style="margin-left: 15px; font-weight: 400; font-size: 1.5rem">
        Products
      </h6>
      <mat-form-field class="w-50">
        <mat-label>Sort By</mat-label>
        <mat-select (selectionChange)="orderChange($event)">
          <mat-option [value]="1"> Price Low to High </mat-option>
          <mat-option [value]="-1"> Price High to Low </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <!-- Grid wrapper -->
    <div class="flex flex-wrap">
      <div
        *ngFor="let product of products; trackBy: trackByFn"
        class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4"
      >
        <app-products-card
          [product]="product"
          [searchItem]="searchItem"
        ></app-products-card>
      </div>
      <div *ngIf="products.length === 0" class="w-full">
        <h4 style="margin-left: 15px">
          Currently Stocks not Available...will listed soon..!
        </h4>
      </div>
    </div>
    <div class="flex gap-2">
      <button
        mat-raised-button
        color="primary"
        [disabled]="page == 1"
        (click)="pageChange(page - 1)"
      >
        Prev
      </button>
      <button
        mat-raised-button
        color="primary"
        [disabled]="!isNext"
        (click)="pageChange(page + 1)"
      >
        Next
      </button>
    </div>
  </div>
</div>
